### 涉及的表结构
学生行政单位表
学生课程时间表(需要上的课)
学生课程表(有哪些课程)
课程信息表

### 缺少的信息
待选课程列表

### 后端子任务
* 1. 数据库表结构设计(只要能实现选课功能就可以)
* 2. 学校数据库 <-> MCG 数据库   (运行在启动时和结束时)
* 3. 分库(可能还有分表,先看一下分库的性能)
* 4. 缓存模块(ReadableInfoProxy)，确定哪些信息可以直接放在内存里(可以丢失的信息)

### 表1 学生课程表
学年  学期 学号 XKKH  上课时间 课程名称  xxx
### 表2 行政班信息
学号 姓名
### 表3 课程信息
学年 学期 课程代码 课程名称 学分 xx 考察方式 xx xx KCXZ 课程类别 学院 SFKPJ JSZGH 教师姓名 XKKH 上课地点 上课时间 考试时间

XX XX XX XX 人数


### 有几点问题

1. 表格的列表是否就是和数据库一致(已确认)
2. 



### mcg 单独数据库
在我的电脑上，1000条数据的表中，query操作只需要1-2ms，update操作需要4-7ms。我们期望将需要update操作的表分散到不同的数据库中，
根据要执行的请求，来决定使用那个mysql连接来执行该请求。从而提高update操作的速度(从所有"update操作"执行总时间上看)。

### 表1 待选课课程列表(不分库)
表结构:
* 1. code           char(64)    课程代码 
* 2. students       int(16)     开课人数 
* 3. type           int(16)     课程类型 (经济、人文...)
* 4. organization   int(16)     开课的组织 (从其它地方获取，静态信息)
* 5. else      char(64)         (上课老师、学分、考试时间等，待设计)

### 表2　剩余人数表(按二级学院分库)
表结构:
* 1.code            char(64)    课程代码
* 2.number          int(16)     剩余数量

总是有办法可以知道课程代码对应的二级学院。

### 表3 学生课程表(按二级学院分库)
表结构:
* 1.student         char(64)    学号
* 2.code            char(64)    课程代码

(**PS:我在考虑将这个表拆分成"已有课程表" 和"新增课程表"。好处是”已有课程表”性质为只读，是否会加快查询。已有课程表会非常大而"新增课程表"较小，update操作是否会快一点。坏处是获取某个学生的课程时会多查询一次，一次从已有中，一次从新增中。**)

### 表4 课程时间表(不分库)
表结构:
* 1.code            char(64)    课程代码
* 2.week            int(8)      周
* 3.day             int(8)      周几
* 4.lessons         char(64)    哪几节课    .eg. {3,4}  {9,10,11}

(**PS: 要不要将课程时间直接放到表4中,降低查询的次数**)

### 数据库的部署
按学院:
* 1.表1中使用课程代码的后3位来选择
* 2.表2\3中根据学号来选择

程序中根据以上信息，来选择向哪一个数据库发起操作。

### 流程
0. 前置准备

任务：
* 1.导入整个学校学生的学号、班级等信息(可能用不上)
* 2.导入每个学生的已有课程列表，生成表2

1. 选择 "校选修、院选修、体育选修"
这里的问题是:
* 1. 选修课列表是如果产生的(猜想：选课前老师排好课，导入了教务处数据库)
* 2. mcg系统应该是"无状态的"，只要它是选修课，就从”教务处系统”中导入过来，并给他添加上"类型"


问题解决思路:
问题1： 跟教务处的人了解清楚
问题2： 问题1应该可以帮组解决问题2

表1产生了。

2. 服务端返回该学生可选择的课程列表

* 1.全校性公共选修课:不做任何处理，全量返回表1。
* 2.体育:同1
* 3.院选修：根据二级学院标识 

3. 提交选课请求

4. 导回给教务处数据库

